goals do
  goal "Let's fire up the application locally"
end


steps do
  step do
    message "Open the file `Gemfile` in an editor (In the InstallFest yesterday, we suggested that you install and use **Atom** as your editor)."

    message "Look for the line `gem 'sqlite3'` (line 9)"

    message "Update that line to say `gem 'sqlite3', '~>1.3.6'`"
    
    tip "On Windows you should update the line to this:"

    source_code :ruby, <<-RUBY
      gem 'sqlite3', git: 'https://github.com/larskanis/sqlite3-ruby', branch: 'add-gemspec'
    RUBY
    
    message "In your console, make sure that you're in the `suggestotron` folder. You can type `pwd` (**p**rint **w**orking **d**irectory) in the terminal to see what folder you are in."

    console "bundle update"
  end
  step do
    console "rails server"
    message "This will print some stuff and stay running forever, printing more stuff
every time you visit a page in your app."
  end
  step do
    text "Point your web browser to "
    url "http://localhost:3000"
    message "See your web app actually running!"
  end

  step do
    message "While the server is running, whatever you type in that terminal tab
will be ignored."
    message "To get back to the terminal, you can stop the server by typing
`Control-c`."
    result <<-STOPPING_RAILS_SERVER
^CExiting
    STOPPING_RAILS_SERVER
  end
end

explanation do
  message "`rails server` ran your application locally just like Heroku will be running it on their servers."
  message "This provides a very simple means to see your changes before you commit and push them to Heroku."
  message "`Control-c` is a way of closing or cancelling terminal programs. Since
`rails server` runs forever, you need to interrupt it with `Control-c`."
end

next_step "creating_a_migration"
